<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Single Farm Analysis (cowfootR) • cowfootR</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png">
<link rel="icon" type="”image/svg+xml”" href="../favicon.svg">
<link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png">
<link rel="icon" sizes="any" href="../favicon.ico">
<link rel="manifest" href="../site.webmanifest">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Single Farm Analysis (cowfootR)">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">cowfootR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.2</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item"><a class="nav-link" href="../articles/index.html">Articles</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/juanmarcosmoreno-arch/cowfootR/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Single Farm Analysis (cowfootR)</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/juanmarcosmoreno-arch/cowfootR/blob/HEAD/vignettes/02%20-%20Single%20Farm%20Analysis%20(cowfootR).Rmd" class="external-link"><code>vignettes/02 - Single Farm Analysis (cowfootR).Rmd</code></a></small>
      <div class="d-none name"><code>02 - Single Farm Analysis (cowfootR).Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="comprehensive-single-farm-carbon-footprint-analysis">Comprehensive Single Farm Carbon Footprint Analysis<a class="anchor" aria-label="anchor" href="#comprehensive-single-farm-carbon-footprint-analysis"></a>
</h2>
<p>This vignette shows a complete, end-to-end carbon footprint
assessment for one dairy farm using cowfootR. The goal is to demonstrate
how individual emission sources can be calculated, combined, visualized,
and summarized into intensity metrics.</p>
<div class="section level3">
<h3 id="farm-profile-estancia-las-flores">Farm Profile: Estancia Las Flores<a class="anchor" aria-label="anchor" href="#farm-profile-estancia-las-flores"></a>
</h3>
<p>We will analyze a medium-sized dairy farm with a mixed grazing system
and supplementation:</p>
<ul>
<li>
<strong>Location</strong>: Temperate climate, well-drained
soils</li>
<li>
<strong>System</strong>: Mixed grazing with supplementation</li>
<li>
<strong>Herd</strong>: 150 dairy cows plus young stock</li>
<li>
<strong>Area</strong>: 200 hectares total</li>
<li>
<strong>Production</strong>: 950,000 litres annually</li>
</ul>
</div>
<div class="section level3">
<h3 id="step-1-define-system-boundaries">Step 1: Define system boundaries<a class="anchor" aria-label="anchor" href="#step-1-define-system-boundaries"></a>
</h3>
<p><strong>Purpose</strong>. System boundaries specify which emission
sources are included in the assessment (e.g., farm-gate vs
cradle-to-farm-gate). This affects which functions are relevant and how
totals are interpreted.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Most common scope: farm-gate boundaries</span></span>
<span><span class="va">boundaries</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/set_system_boundaries.html">set_system_boundaries</a></span><span class="op">(</span><span class="st">"farm_gate"</span><span class="op">)</span></span>
<span><span class="va">boundaries</span></span>
<span><span class="co">#&gt; $scope</span></span>
<span><span class="co">#&gt; [1] "farm_gate"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $include</span></span>
<span><span class="co">#&gt; [1] "enteric" "manure"  "soil"    "energy"  "inputs"</span></span></code></pre></div>
<p>You can also explore other boundary configurations:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Includes upstream emissions (e.g., purchased inputs)</span></span>
<span><span class="va">boundaries_extended</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/set_system_boundaries.html">set_system_boundaries</a></span><span class="op">(</span><span class="st">"cradle_to_farm_gate"</span><span class="op">)</span></span>
<span><span class="va">boundaries_extended</span></span>
<span><span class="co">#&gt; $scope</span></span>
<span><span class="co">#&gt; [1] "cradle_to_farm_gate"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $include</span></span>
<span><span class="co">#&gt; [1] "feed"    "enteric" "manure"  "soil"    "energy"  "inputs"</span></span>
<span></span>
<span><span class="co"># Custom selection of sources</span></span>
<span><span class="va">boundaries_partial</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/set_system_boundaries.html">set_system_boundaries</a></span><span class="op">(</span></span>
<span>  scope <span class="op">=</span> <span class="st">"partial"</span>,</span>
<span>  include <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"enteric"</span>, <span class="st">"manure"</span>, <span class="st">"soil"</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="va">boundaries_partial</span></span>
<span><span class="co">#&gt; $scope</span></span>
<span><span class="co">#&gt; [1] "partial"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $include</span></span>
<span><span class="co">#&gt; [1] "enteric" "manure"  "soil"</span></span></code></pre></div>
<p>For the rest of this vignette, we use farm-gate boundaries because it
is a common scope in farm-level reporting.</p>
</div>
<div class="section level3">
<h3 id="step-2-provide-farm-data-inputs">Step 2: Provide farm data (inputs)<a class="anchor" aria-label="anchor" href="#step-2-provide-farm-data-inputs"></a>
</h3>
<p><strong>Purpose</strong>. cowfootR functions require inputs
describing the herd, production, land use, energy consumption, and
purchased inputs. In real applications, this information often comes
from farm records, advisory systems, or templates.</p>
<div class="section level4">
<h4 id="herd-composition-and-production">Herd Composition and production<a class="anchor" aria-label="anchor" href="#herd-composition-and-production"></a>
</h4>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">herd_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>  dairy_cows_milking <span class="op">=</span> <span class="fl">120</span>,</span>
<span>  dairy_cows_dry <span class="op">=</span> <span class="fl">30</span>,</span>
<span>  heifers_total <span class="op">=</span> <span class="fl">45</span>,</span>
<span>  calves_total <span class="op">=</span> <span class="fl">35</span>,</span>
<span>  bulls_total <span class="op">=</span> <span class="fl">3</span>,</span>
<span>  body_weight_cows <span class="op">=</span> <span class="fl">580</span>,</span>
<span>  body_weight_heifers <span class="op">=</span> <span class="fl">380</span>,</span>
<span>  body_weight_calves <span class="op">=</span> <span class="fl">180</span>,</span>
<span>  body_weight_bulls <span class="op">=</span> <span class="fl">750</span>,</span>
<span>  milk_yield_per_cow <span class="op">=</span> <span class="fl">6300</span>,</span>
<span>  annual_milk_litres <span class="op">=</span> <span class="fl">950000</span>,</span>
<span>  fat_percent <span class="op">=</span> <span class="fl">3.7</span>,</span>
<span>  protein_percent <span class="op">=</span> <span class="fl">3.3</span>,</span>
<span>  milk_density <span class="op">=</span> <span class="fl">1.032</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">herd_data</span></span>
<span><span class="co">#&gt; $dairy_cows_milking</span></span>
<span><span class="co">#&gt; [1] 120</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $dairy_cows_dry</span></span>
<span><span class="co">#&gt; [1] 30</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $heifers_total</span></span>
<span><span class="co">#&gt; [1] 45</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $calves_total</span></span>
<span><span class="co">#&gt; [1] 35</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $bulls_total</span></span>
<span><span class="co">#&gt; [1] 3</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $body_weight_cows</span></span>
<span><span class="co">#&gt; [1] 580</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $body_weight_heifers</span></span>
<span><span class="co">#&gt; [1] 380</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $body_weight_calves</span></span>
<span><span class="co">#&gt; [1] 180</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $body_weight_bulls</span></span>
<span><span class="co">#&gt; [1] 750</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $milk_yield_per_cow</span></span>
<span><span class="co">#&gt; [1] 6300</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $annual_milk_litres</span></span>
<span><span class="co">#&gt; [1] 950000</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $fat_percent</span></span>
<span><span class="co">#&gt; [1] 3.7</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $protein_percent</span></span>
<span><span class="co">#&gt; [1] 3.3</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $milk_density</span></span>
<span><span class="co">#&gt; [1] 1.032</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="feed-and-nutrition">Feed and nutrition<a class="anchor" aria-label="anchor" href="#feed-and-nutrition"></a>
</h4>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">feed_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>  concentrate_kg <span class="op">=</span> <span class="fl">220000</span>,</span>
<span>  grain_dry_kg <span class="op">=</span> <span class="fl">80000</span>,</span>
<span>  grain_wet_kg <span class="op">=</span> <span class="fl">45000</span>,</span>
<span>  ration_kg <span class="op">=</span> <span class="fl">60000</span>,</span>
<span>  byproducts_kg <span class="op">=</span> <span class="fl">25000</span>,</span>
<span>  proteins_kg <span class="op">=</span> <span class="fl">35000</span>,</span>
<span>  dry_matter_intake_cows <span class="op">=</span> <span class="fl">19.5</span>,</span>
<span>  dry_matter_intake_heifers <span class="op">=</span> <span class="fl">11.0</span>,</span>
<span>  dry_matter_intake_calves <span class="op">=</span> <span class="fl">6.0</span>,</span>
<span>  dry_matter_intake_bulls <span class="op">=</span> <span class="fl">14.0</span>,</span>
<span>  ym_percent <span class="op">=</span> <span class="fl">6.3</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">feed_data</span></span>
<span><span class="co">#&gt; $concentrate_kg</span></span>
<span><span class="co">#&gt; [1] 220000</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $grain_dry_kg</span></span>
<span><span class="co">#&gt; [1] 80000</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $grain_wet_kg</span></span>
<span><span class="co">#&gt; [1] 45000</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $ration_kg</span></span>
<span><span class="co">#&gt; [1] 60000</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $byproducts_kg</span></span>
<span><span class="co">#&gt; [1] 25000</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $proteins_kg</span></span>
<span><span class="co">#&gt; [1] 35000</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $dry_matter_intake_cows</span></span>
<span><span class="co">#&gt; [1] 19.5</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $dry_matter_intake_heifers</span></span>
<span><span class="co">#&gt; [1] 11</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $dry_matter_intake_calves</span></span>
<span><span class="co">#&gt; [1] 6</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $dry_matter_intake_bulls</span></span>
<span><span class="co">#&gt; [1] 14</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $ym_percent</span></span>
<span><span class="co">#&gt; [1] 6.3</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="land-use-and-soil-management">Land use and soil management<a class="anchor" aria-label="anchor" href="#land-use-and-soil-management"></a>
</h4>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">land_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>  area_total <span class="op">=</span> <span class="fl">200</span>,</span>
<span>  area_productive <span class="op">=</span> <span class="fl">185</span>,</span>
<span>  area_fertilized <span class="op">=</span> <span class="fl">160</span>,</span>
<span>  pasture_permanent <span class="op">=</span> <span class="fl">140</span>,</span>
<span>  pasture_temporary <span class="op">=</span> <span class="fl">30</span>,</span>
<span>  crops_feed <span class="op">=</span> <span class="fl">12</span>,</span>
<span>  crops_cash <span class="op">=</span> <span class="fl">3</span>,</span>
<span>  infrastructure <span class="op">=</span> <span class="fl">8</span>,</span>
<span>  woodland <span class="op">=</span> <span class="fl">7</span>,</span>
<span>  soil_type <span class="op">=</span> <span class="st">"well_drained"</span>,</span>
<span>  climate_zone <span class="op">=</span> <span class="st">"temperate"</span>,</span>
<span>  n_fertilizer_synthetic <span class="op">=</span> <span class="fl">2400</span>,</span>
<span>  n_fertilizer_organic <span class="op">=</span> <span class="fl">500</span>,</span>
<span>  n_excreta_pasture <span class="op">=</span> <span class="fl">15000</span>,</span>
<span>  n_crop_residues <span class="op">=</span> <span class="fl">800</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">land_data</span></span>
<span><span class="co">#&gt; $area_total</span></span>
<span><span class="co">#&gt; [1] 200</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $area_productive</span></span>
<span><span class="co">#&gt; [1] 185</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $area_fertilized</span></span>
<span><span class="co">#&gt; [1] 160</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $pasture_permanent</span></span>
<span><span class="co">#&gt; [1] 140</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $pasture_temporary</span></span>
<span><span class="co">#&gt; [1] 30</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $crops_feed</span></span>
<span><span class="co">#&gt; [1] 12</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $crops_cash</span></span>
<span><span class="co">#&gt; [1] 3</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $infrastructure</span></span>
<span><span class="co">#&gt; [1] 8</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $woodland</span></span>
<span><span class="co">#&gt; [1] 7</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $soil_type</span></span>
<span><span class="co">#&gt; [1] "well_drained"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $climate_zone</span></span>
<span><span class="co">#&gt; [1] "temperate"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $n_fertilizer_synthetic</span></span>
<span><span class="co">#&gt; [1] 2400</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $n_fertilizer_organic</span></span>
<span><span class="co">#&gt; [1] 500</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $n_excreta_pasture</span></span>
<span><span class="co">#&gt; [1] 15000</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $n_crop_residues</span></span>
<span><span class="co">#&gt; [1] 800</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="energy-consumption">Energy consumption<a class="anchor" aria-label="anchor" href="#energy-consumption"></a>
</h4>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">energy_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>  diesel_litres <span class="op">=</span> <span class="fl">12000</span>,</span>
<span>  petrol_litres <span class="op">=</span> <span class="fl">1800</span>,</span>
<span>  lpg_kg <span class="op">=</span> <span class="fl">600</span>,</span>
<span>  natural_gas_m3 <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  electricity_kwh <span class="op">=</span> <span class="fl">48000</span>,</span>
<span>  country <span class="op">=</span> <span class="st">"UY"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">energy_data</span></span>
<span><span class="co">#&gt; $diesel_litres</span></span>
<span><span class="co">#&gt; [1] 12000</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $petrol_litres</span></span>
<span><span class="co">#&gt; [1] 1800</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $lpg_kg</span></span>
<span><span class="co">#&gt; [1] 600</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $natural_gas_m3</span></span>
<span><span class="co">#&gt; [1] 0</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $electricity_kwh</span></span>
<span><span class="co">#&gt; [1] 48000</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $country</span></span>
<span><span class="co">#&gt; [1] "UY"</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="additional-purchased-inputs">Additional purchased inputs<a class="anchor" aria-label="anchor" href="#additional-purchased-inputs"></a>
</h4>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">other_inputs</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>  plastic_kg <span class="op">=</span> <span class="fl">450</span>,</span>
<span>  transport_km <span class="op">=</span> <span class="fl">120</span>,</span>
<span>  fert_type <span class="op">=</span> <span class="st">"mixed"</span>,</span>
<span>  plastic_type <span class="op">=</span> <span class="st">"mixed"</span>,</span>
<span>  region <span class="op">=</span> <span class="st">"global"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">other_inputs</span></span>
<span><span class="co">#&gt; $plastic_kg</span></span>
<span><span class="co">#&gt; [1] 450</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $transport_km</span></span>
<span><span class="co">#&gt; [1] 120</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $fert_type</span></span>
<span><span class="co">#&gt; [1] "mixed"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $plastic_type</span></span>
<span><span class="co">#&gt; [1] "mixed"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $region</span></span>
<span><span class="co">#&gt; [1] "global"</span></span></code></pre></div>
</div>
</div>
<div class="section level3">
<h3 id="step-3-calculate-emissions-by-source">Step 3: Calculate emissions by source<a class="anchor" aria-label="anchor" href="#step-3-calculate-emissions-by-source"></a>
</h3>
<p><strong>Purpose</strong>. Here we compute each emission source
separately. This is useful for transparency, debugging, and hotspot
analysis.</p>
<div class="section level4">
<h4 id="enteric-fermentation">Enteric fermentation<a class="anchor" aria-label="anchor" href="#enteric-fermentation"></a>
</h4>
<div class="section level5">
<h5 id="key-arguments-">Key arguments.<a class="anchor" aria-label="anchor" href="#key-arguments-"></a>
</h5>
<pre><code>-   n_animals, cattle_category: define the livestock group
-   Tier 2 options include avg_body_weight, dry_matter_intake, ym_percent
-   boundaries ensures calculations align with scope</code></pre>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">enteric_cows</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/calc_emissions_enteric.html">calc_emissions_enteric</a></span><span class="op">(</span></span>
<span>  n_animals <span class="op">=</span> <span class="va">herd_data</span><span class="op">$</span><span class="va">dairy_cows_milking</span> <span class="op">+</span> <span class="va">herd_data</span><span class="op">$</span><span class="va">dairy_cows_dry</span>,</span>
<span>  cattle_category <span class="op">=</span> <span class="st">"dairy_cows"</span>,</span>
<span>  avg_milk_yield <span class="op">=</span> <span class="va">herd_data</span><span class="op">$</span><span class="va">milk_yield_per_cow</span>,</span>
<span>  avg_body_weight <span class="op">=</span> <span class="va">herd_data</span><span class="op">$</span><span class="va">body_weight_cows</span>,</span>
<span>  dry_matter_intake <span class="op">=</span> <span class="va">feed_data</span><span class="op">$</span><span class="va">dry_matter_intake_cows</span>,</span>
<span>  ym_percent <span class="op">=</span> <span class="va">feed_data</span><span class="op">$</span><span class="va">ym_percent</span>,</span>
<span>  tier <span class="op">=</span> <span class="fl">2</span>,</span>
<span>  boundaries <span class="op">=</span> <span class="va">boundaries</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">enteric_heifers</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/calc_emissions_enteric.html">calc_emissions_enteric</a></span><span class="op">(</span></span>
<span>  n_animals <span class="op">=</span> <span class="va">herd_data</span><span class="op">$</span><span class="va">heifers_total</span>,</span>
<span>  cattle_category <span class="op">=</span> <span class="st">"heifers"</span>,</span>
<span>  avg_body_weight <span class="op">=</span> <span class="va">herd_data</span><span class="op">$</span><span class="va">body_weight_heifers</span>,</span>
<span>  dry_matter_intake <span class="op">=</span> <span class="va">feed_data</span><span class="op">$</span><span class="va">dry_matter_intake_heifers</span>,</span>
<span>  ym_percent <span class="op">=</span> <span class="va">feed_data</span><span class="op">$</span><span class="va">ym_percent</span>,</span>
<span>  tier <span class="op">=</span> <span class="fl">2</span>,</span>
<span>  boundaries <span class="op">=</span> <span class="va">boundaries</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">enteric_calves</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/calc_emissions_enteric.html">calc_emissions_enteric</a></span><span class="op">(</span></span>
<span>  n_animals <span class="op">=</span> <span class="va">herd_data</span><span class="op">$</span><span class="va">calves_total</span>,</span>
<span>  cattle_category <span class="op">=</span> <span class="st">"calves"</span>,</span>
<span>  avg_body_weight <span class="op">=</span> <span class="va">herd_data</span><span class="op">$</span><span class="va">body_weight_calves</span>,</span>
<span>  dry_matter_intake <span class="op">=</span> <span class="va">feed_data</span><span class="op">$</span><span class="va">dry_matter_intake_calves</span>,</span>
<span>  tier <span class="op">=</span> <span class="fl">2</span>,</span>
<span>  boundaries <span class="op">=</span> <span class="va">boundaries</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">enteric_bulls</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/calc_emissions_enteric.html">calc_emissions_enteric</a></span><span class="op">(</span></span>
<span>  n_animals <span class="op">=</span> <span class="va">herd_data</span><span class="op">$</span><span class="va">bulls_total</span>,</span>
<span>  cattle_category <span class="op">=</span> <span class="st">"bulls"</span>,</span>
<span>  avg_body_weight <span class="op">=</span> <span class="va">herd_data</span><span class="op">$</span><span class="va">body_weight_bulls</span>,</span>
<span>  dry_matter_intake <span class="op">=</span> <span class="va">feed_data</span><span class="op">$</span><span class="va">dry_matter_intake_bulls</span>,</span>
<span>  tier <span class="op">=</span> <span class="fl">2</span>,</span>
<span>  boundaries <span class="op">=</span> <span class="va">boundaries</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">enteric_summary</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  Category <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Dairy Cows"</span>, <span class="st">"Heifers"</span>, <span class="st">"Calves"</span>, <span class="st">"Bulls"</span><span class="op">)</span>,</span>
<span>  Animals <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">150</span>, <span class="va">herd_data</span><span class="op">$</span><span class="va">heifers_total</span>, <span class="va">herd_data</span><span class="op">$</span><span class="va">calves_total</span>, <span class="va">herd_data</span><span class="op">$</span><span class="va">bulls_total</span><span class="op">)</span>,</span>
<span>  CH4_kg <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">enteric_cows</span><span class="op">$</span><span class="va">ch4_kg</span>, <span class="va">enteric_heifers</span><span class="op">$</span><span class="va">ch4_kg</span>, <span class="va">enteric_calves</span><span class="op">$</span><span class="va">ch4_kg</span>, <span class="va">enteric_bulls</span><span class="op">$</span><span class="va">ch4_kg</span><span class="op">)</span>,</span>
<span>  CO2eq_kg <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">enteric_cows</span><span class="op">$</span><span class="va">co2eq_kg</span>, <span class="va">enteric_heifers</span><span class="op">$</span><span class="va">co2eq_kg</span>, <span class="va">enteric_calves</span><span class="op">$</span><span class="va">co2eq_kg</span>, <span class="va">enteric_bulls</span><span class="op">$</span><span class="va">co2eq_kg</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">kable</span><span class="op">(</span><span class="va">enteric_summary</span>, caption <span class="op">=</span> <span class="st">"Enteric emissions by animal category"</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<caption>Enteric emissions by animal category</caption>
<thead><tr class="header">
<th align="left">Category</th>
<th align="right">Animals</th>
<th align="right">CH4_kg</th>
<th align="right">CO2eq_kg</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Dairy Cows</td>
<td align="right">150</td>
<td align="right">22299.26</td>
<td align="right">606539.92</td>
</tr>
<tr class="even">
<td align="left">Heifers</td>
<td align="right">45</td>
<td align="right">3773.72</td>
<td align="right">102645.22</td>
</tr>
<tr class="odd">
<td align="left">Calves</td>
<td align="right">35</td>
<td align="right">1651.80</td>
<td align="right">44928.88</td>
</tr>
<tr class="even">
<td align="left">Bulls</td>
<td align="right">3</td>
<td align="right">330.36</td>
<td align="right">8985.78</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">total_enteric</span> <span class="op">&lt;-</span> <span class="va">enteric_summary</span><span class="op">$</span><span class="va">CO2eq_kg</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level4">
<h4 id="manure-management">Manure management<a class="anchor" aria-label="anchor" href="#manure-management"></a>
</h4>
<div class="section level5">
<h5 id="key-arguments--1">Key arguments.<a class="anchor" aria-label="anchor" href="#key-arguments--1"></a>
</h5>
<pre><code>•   manure_system: a simplified representation of storage/handling
•   include_indirect: whether to include indirect emissions</code></pre>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">total_animals</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span></span>
<span>  <span class="va">herd_data</span><span class="op">$</span><span class="va">dairy_cows_milking</span>, <span class="va">herd_data</span><span class="op">$</span><span class="va">dairy_cows_dry</span>,</span>
<span>  <span class="va">herd_data</span><span class="op">$</span><span class="va">heifers_total</span>, <span class="va">herd_data</span><span class="op">$</span><span class="va">calves_total</span>, <span class="va">herd_data</span><span class="op">$</span><span class="va">bulls_total</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">manure_emissions</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/calc_emissions_manure.html">calc_emissions_manure</a></span><span class="op">(</span></span>
<span>  n_cows <span class="op">=</span> <span class="va">total_animals</span>,</span>
<span>  manure_system <span class="op">=</span> <span class="st">"pasture"</span>,</span>
<span>  tier <span class="op">=</span> <span class="fl">2</span>,</span>
<span>  avg_body_weight <span class="op">=</span> <span class="fl">500</span>,</span>
<span>  diet_digestibility <span class="op">=</span> <span class="fl">0.67</span>,</span>
<span>  climate <span class="op">=</span> <span class="st">"temperate"</span>,</span>
<span>  include_indirect <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  boundaries <span class="op">=</span> <span class="va">boundaries</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">manure_emissions</span></span>
<span><span class="co">#&gt; $source</span></span>
<span><span class="co">#&gt; [1] "manure"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $system</span></span>
<span><span class="co">#&gt; [1] "pasture"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $tier</span></span>
<span><span class="co">#&gt; [1] 2</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $climate</span></span>
<span><span class="co">#&gt; [1] "temperate"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $ch4_kg</span></span>
<span><span class="co">#&gt; [1] 4092.31</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $n2o_direct_kg</span></span>
<span><span class="co">#&gt; [1] 732.29</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $n2o_indirect_kg</span></span>
<span><span class="co">#&gt; [1] 134.56</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $n2o_total_kg</span></span>
<span><span class="co">#&gt; [1] 866.84</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $co2eq_kg</span></span>
<span><span class="co">#&gt; [1] 347959.2</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $emission_factors</span></span>
<span><span class="co">#&gt; $emission_factors$ef_ch4</span></span>
<span><span class="co">#&gt; [1] NA</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $emission_factors$ef_n2o_direct</span></span>
<span><span class="co">#&gt; [1] 0.02</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $emission_factors$gwp_ch4</span></span>
<span><span class="co">#&gt; [1] 27.2</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $emission_factors$gwp_n2o</span></span>
<span><span class="co">#&gt; [1] 273</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $inputs</span></span>
<span><span class="co">#&gt; $inputs$n_cows</span></span>
<span><span class="co">#&gt; [1] 233</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $inputs$n_excreted</span></span>
<span><span class="co">#&gt; [1] 100</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $inputs$manure_system</span></span>
<span><span class="co">#&gt; [1] "pasture"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $inputs$include_indirect</span></span>
<span><span class="co">#&gt; [1] TRUE</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $inputs$avg_body_weight</span></span>
<span><span class="co">#&gt; [1] 500</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $inputs$diet_digestibility</span></span>
<span><span class="co">#&gt; [1] 0.67</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $methodology</span></span>
<span><span class="co">#&gt; [1] "IPCC Tier 2 (VS_B0_MCF calculation)"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $standards</span></span>
<span><span class="co">#&gt; [1] "IPCC 2019 Refinement, IDF 2022"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $date</span></span>
<span><span class="co">#&gt; [1] "2026-01-06"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $per_cow</span></span>
<span><span class="co">#&gt; $per_cow$ch4_kg</span></span>
<span><span class="co">#&gt; [1] 17.5636</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $per_cow$n2o_kg</span></span>
<span><span class="co">#&gt; [1] 3.720357</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $per_cow$co2eq_kg</span></span>
<span><span class="co">#&gt; [1] 1493.387</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $tier2_details</span></span>
<span><span class="co">#&gt; $tier2_details$vs_kg_per_day</span></span>
<span><span class="co">#&gt; [1] 26.6</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $tier2_details$b0_used</span></span>
<span><span class="co">#&gt; [1] 0.18</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $tier2_details$mcf_used</span></span>
<span><span class="co">#&gt; [1] 1.5</span></span></code></pre></div>
</div>
</div>
<div class="section level4">
<h4 id="soil-n2o-emissions">Soil N2O Emissions<a class="anchor" aria-label="anchor" href="#soil-n2o-emissions"></a>
</h4>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">soil_emissions</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/calc_emissions_soil.html">calc_emissions_soil</a></span><span class="op">(</span></span>
<span>  n_fertilizer_synthetic <span class="op">=</span> <span class="va">land_data</span><span class="op">$</span><span class="va">n_fertilizer_synthetic</span>,</span>
<span>  n_fertilizer_organic <span class="op">=</span> <span class="va">land_data</span><span class="op">$</span><span class="va">n_fertilizer_organic</span>,</span>
<span>  n_excreta_pasture <span class="op">=</span> <span class="va">land_data</span><span class="op">$</span><span class="va">n_excreta_pasture</span>,</span>
<span>  n_crop_residues <span class="op">=</span> <span class="va">land_data</span><span class="op">$</span><span class="va">n_crop_residues</span>,</span>
<span>  area_ha <span class="op">=</span> <span class="va">land_data</span><span class="op">$</span><span class="va">area_total</span>,</span>
<span>  soil_type <span class="op">=</span> <span class="va">land_data</span><span class="op">$</span><span class="va">soil_type</span>,</span>
<span>  climate <span class="op">=</span> <span class="va">land_data</span><span class="op">$</span><span class="va">climate_zone</span>,</span>
<span>  include_indirect <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  boundaries <span class="op">=</span> <span class="va">boundaries</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">soil_emissions</span></span>
<span><span class="co">#&gt; $source</span></span>
<span><span class="co">#&gt; [1] "soil"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $soil_conditions</span></span>
<span><span class="co">#&gt; $soil_conditions$soil_type</span></span>
<span><span class="co">#&gt; [1] "well_drained"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $soil_conditions$climate</span></span>
<span><span class="co">#&gt; [1] "temperate"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $nitrogen_inputs</span></span>
<span><span class="co">#&gt; $nitrogen_inputs$synthetic_fertilizer_kg_n</span></span>
<span><span class="co">#&gt; [1] 2400</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $nitrogen_inputs$organic_fertilizer_kg_n</span></span>
<span><span class="co">#&gt; [1] 500</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $nitrogen_inputs$excreta_pasture_kg_n</span></span>
<span><span class="co">#&gt; [1] 15000</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $nitrogen_inputs$crop_residues_kg_n</span></span>
<span><span class="co">#&gt; [1] 800</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $nitrogen_inputs$total_kg_n</span></span>
<span><span class="co">#&gt; [1] 18700</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $emissions_breakdown</span></span>
<span><span class="co">#&gt; $emissions_breakdown$direct_n2o_kg</span></span>
<span><span class="co">#&gt; [1] 293.857</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $emissions_breakdown$indirect_volatilization_n2o_kg</span></span>
<span><span class="co">#&gt; [1] 52.486</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $emissions_breakdown$indirect_leaching_n2o_kg</span></span>
<span><span class="co">#&gt; [1] 66.118</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $emissions_breakdown$total_indirect_n2o_kg</span></span>
<span><span class="co">#&gt; [1] 118.604</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $emissions_breakdown$total_n2o_kg</span></span>
<span><span class="co">#&gt; [1] 412.461</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $co2eq_kg</span></span>
<span><span class="co">#&gt; [1] 112601.8</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $emission_factors</span></span>
<span><span class="co">#&gt; $emission_factors$ef_direct</span></span>
<span><span class="co">#&gt; [1] 0.01</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $emission_factors$ef_volatilization</span></span>
<span><span class="co">#&gt; [1] 0.01</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $emission_factors$ef_leaching</span></span>
<span><span class="co">#&gt; [1] 0.0075</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $emission_factors$gwp_n2o</span></span>
<span><span class="co">#&gt; [1] 273</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $emission_factors$factors_source</span></span>
<span><span class="co">#&gt; [1] "IPCC-style defaults (temperate, well_drained)"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $methodology</span></span>
<span><span class="co">#&gt; [1] "Tier 1-style (direct + indirect)"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $standards</span></span>
<span><span class="co">#&gt; [1] "IPCC 2019 Refinement, IDF 2022"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $date</span></span>
<span><span class="co">#&gt; [1] "2026-01-06"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $per_hectare_metrics</span></span>
<span><span class="co">#&gt; $per_hectare_metrics$n_input_kg_per_ha</span></span>
<span><span class="co">#&gt; [1] 93.5</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $per_hectare_metrics$n2o_kg_per_ha</span></span>
<span><span class="co">#&gt; [1] 2.062</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $per_hectare_metrics$co2eq_kg_per_ha</span></span>
<span><span class="co">#&gt; [1] 563.01</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $per_hectare_metrics$emission_intensity_kg_co2eq_per_kg_n</span></span>
<span><span class="co">#&gt; [1] 6.02</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $source_contributions</span></span>
<span><span class="co">#&gt; $source_contributions$synthetic_fertilizer_pct</span></span>
<span><span class="co">#&gt; [1] 12.8</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $source_contributions$organic_fertilizer_pct</span></span>
<span><span class="co">#&gt; [1] 2.7</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $source_contributions$excreta_pasture_pct</span></span>
<span><span class="co">#&gt; [1] 80.2</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $source_contributions$crop_residues_pct</span></span>
<span><span class="co">#&gt; [1] 4.3</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $source_contributions$direct_emissions_pct</span></span>
<span><span class="co">#&gt; [1] 71.2</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $source_contributions$indirect_emissions_pct</span></span>
<span><span class="co">#&gt; [1] 28.8</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="energy-related-emissions">Energy-Related Emissions<a class="anchor" aria-label="anchor" href="#energy-related-emissions"></a>
</h4>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">energy_emissions</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/calc_emissions_energy.html">calc_emissions_energy</a></span><span class="op">(</span></span>
<span>  diesel_l <span class="op">=</span> <span class="va">energy_data</span><span class="op">$</span><span class="va">diesel_litres</span>,</span>
<span>  petrol_l <span class="op">=</span> <span class="va">energy_data</span><span class="op">$</span><span class="va">petrol_litres</span>,</span>
<span>  lpg_kg <span class="op">=</span> <span class="va">energy_data</span><span class="op">$</span><span class="va">lpg_kg</span>,</span>
<span>  natural_gas_m3 <span class="op">=</span> <span class="va">energy_data</span><span class="op">$</span><span class="va">natural_gas_m3</span>,</span>
<span>  electricity_kwh <span class="op">=</span> <span class="va">energy_data</span><span class="op">$</span><span class="va">electricity_kwh</span>,</span>
<span>  country <span class="op">=</span> <span class="va">energy_data</span><span class="op">$</span><span class="va">country</span>,</span>
<span>  include_upstream <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  boundaries <span class="op">=</span> <span class="va">boundaries</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">energy_emissions</span></span>
<span><span class="co">#&gt; $source</span></span>
<span><span class="co">#&gt; [1] "energy"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $fuel_emissions</span></span>
<span><span class="co">#&gt; $fuel_emissions$diesel_co2_kg</span></span>
<span><span class="co">#&gt; [1] 32040</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $fuel_emissions$petrol_co2_kg</span></span>
<span><span class="co">#&gt; [1] 4158</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $fuel_emissions$lpg_co2_kg</span></span>
<span><span class="co">#&gt; [1] 1800</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $fuel_emissions$natural_gas_co2_kg</span></span>
<span><span class="co">#&gt; [1] 0</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $fuel_emissions$electricity_co2_kg</span></span>
<span><span class="co">#&gt; [1] 3840</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $direct_co2eq_kg</span></span>
<span><span class="co">#&gt; [1] 41838</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $upstream_co2eq_kg</span></span>
<span><span class="co">#&gt; [1] 0</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $co2eq_kg</span></span>
<span><span class="co">#&gt; [1] 41838</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $emission_factors</span></span>
<span><span class="co">#&gt; $emission_factors$diesel_kg_co2_per_l</span></span>
<span><span class="co">#&gt; [1] 2.67</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $emission_factors$petrol_kg_co2_per_l</span></span>
<span><span class="co">#&gt; [1] 2.31</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $emission_factors$lpg_kg_co2_per_kg</span></span>
<span><span class="co">#&gt; [1] 3</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $emission_factors$natural_gas_kg_co2_per_m3</span></span>
<span><span class="co">#&gt; [1] 2</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $emission_factors$electricity_kg_co2_per_kwh</span></span>
<span><span class="co">#&gt; [1] 0.08</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $emission_factors$electricity_country</span></span>
<span><span class="co">#&gt; [1] "UY"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $inputs</span></span>
<span><span class="co">#&gt; $inputs$diesel_l</span></span>
<span><span class="co">#&gt; [1] 12000</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $inputs$petrol_l</span></span>
<span><span class="co">#&gt; [1] 1800</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $inputs$lpg_kg</span></span>
<span><span class="co">#&gt; [1] 600</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $inputs$natural_gas_m3</span></span>
<span><span class="co">#&gt; [1] 0</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $inputs$electricity_kwh</span></span>
<span><span class="co">#&gt; [1] 48000</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $inputs$include_upstream</span></span>
<span><span class="co">#&gt; [1] FALSE</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $methodology</span></span>
<span><span class="co">#&gt; [1] "IPCC 2019 emission factors"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $standards</span></span>
<span><span class="co">#&gt; [1] "IPCC 2019 Refinement, IDF 2022"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $date</span></span>
<span><span class="co">#&gt; [1] "2026-01-06"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $energy_metrics</span></span>
<span><span class="co">#&gt; $energy_metrics$electricity_share_pct</span></span>
<span><span class="co">#&gt; [1] 9.2</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $energy_metrics$fossil_fuel_share_pct</span></span>
<span><span class="co">#&gt; [1] 90.8</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $energy_metrics$co2_intensity_kg_per_mwh</span></span>
<span><span class="co">#&gt; [1] 80</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="purchased-input-emissions">Purchased Input Emissions<a class="anchor" aria-label="anchor" href="#purchased-input-emissions"></a>
</h4>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">input_emissions</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/calc_emissions_inputs.html">calc_emissions_inputs</a></span><span class="op">(</span></span>
<span>  conc_kg <span class="op">=</span> <span class="va">feed_data</span><span class="op">$</span><span class="va">concentrate_kg</span>,</span>
<span>  fert_n_kg <span class="op">=</span> <span class="va">land_data</span><span class="op">$</span><span class="va">n_fertilizer_synthetic</span>,</span>
<span>  plastic_kg <span class="op">=</span> <span class="va">other_inputs</span><span class="op">$</span><span class="va">plastic_kg</span>,</span>
<span>  feed_grain_dry_kg <span class="op">=</span> <span class="va">feed_data</span><span class="op">$</span><span class="va">grain_dry_kg</span>,</span>
<span>  feed_grain_wet_kg <span class="op">=</span> <span class="va">feed_data</span><span class="op">$</span><span class="va">grain_wet_kg</span>,</span>
<span>  feed_ration_kg <span class="op">=</span> <span class="va">feed_data</span><span class="op">$</span><span class="va">ration_kg</span>,</span>
<span>  feed_byproducts_kg <span class="op">=</span> <span class="va">feed_data</span><span class="op">$</span><span class="va">byproducts_kg</span>,</span>
<span>  feed_proteins_kg <span class="op">=</span> <span class="va">feed_data</span><span class="op">$</span><span class="va">proteins_kg</span>,</span>
<span>  region <span class="op">=</span> <span class="va">other_inputs</span><span class="op">$</span><span class="va">region</span>,</span>
<span>  fert_type <span class="op">=</span> <span class="va">other_inputs</span><span class="op">$</span><span class="va">fert_type</span>,</span>
<span>  plastic_type <span class="op">=</span> <span class="va">other_inputs</span><span class="op">$</span><span class="va">plastic_type</span>,</span>
<span>  transport_km <span class="op">=</span> <span class="va">other_inputs</span><span class="op">$</span><span class="va">transport_km</span>,</span>
<span>  boundaries <span class="op">=</span> <span class="va">boundaries</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">input_emissions</span></span>
<span><span class="co">#&gt; $source</span></span>
<span><span class="co">#&gt; [1] "inputs"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $emissions_breakdown</span></span>
<span><span class="co">#&gt; $emissions_breakdown$concentrate_co2eq_kg</span></span>
<span><span class="co">#&gt; [1] 154000</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $emissions_breakdown$fertilizer_co2eq_kg</span></span>
<span><span class="co">#&gt; [1] 15840</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $emissions_breakdown$plastic_co2eq_kg</span></span>
<span><span class="co">#&gt; [1] 1125</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $emissions_breakdown$feeds_co2eq_kg</span></span>
<span><span class="co">#&gt;  grain_dry  grain_wet     ration byproducts   proteins       corn        soy </span></span>
<span><span class="co">#&gt;      32000      13500      36000       3750      63000          0          0 </span></span>
<span><span class="co">#&gt;      wheat </span></span>
<span><span class="co">#&gt;          0 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $emissions_breakdown$total_feeds_co2eq_kg</span></span>
<span><span class="co">#&gt; [1] 148250</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $emissions_breakdown$transport_adjustment_co2eq_kg</span></span>
<span><span class="co">#&gt; [1] 5580</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $co2eq_kg</span></span>
<span><span class="co">#&gt; [1] 324795</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $total_co2eq_kg</span></span>
<span><span class="co">#&gt; [1] 324795</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $region</span></span>
<span><span class="co">#&gt; [1] "global"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $emission_factors_used</span></span>
<span><span class="co">#&gt; $emission_factors_used$concentrate</span></span>
<span><span class="co">#&gt; $emission_factors_used$concentrate$value</span></span>
<span><span class="co">#&gt; [1] 0.7</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $emission_factors_used$concentrate$unit</span></span>
<span><span class="co">#&gt; [1] "kg CO2e/kg"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $emission_factors_used$fertilizer</span></span>
<span><span class="co">#&gt; $emission_factors_used$fertilizer$value</span></span>
<span><span class="co">#&gt; [1] 6.6</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $emission_factors_used$fertilizer$type</span></span>
<span><span class="co">#&gt; [1] "mixed"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $emission_factors_used$fertilizer$unit</span></span>
<span><span class="co">#&gt; [1] "kg CO2e/kg N"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $emission_factors_used$plastic</span></span>
<span><span class="co">#&gt; $emission_factors_used$plastic$value</span></span>
<span><span class="co">#&gt; [1] 2.5</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $emission_factors_used$plastic$type</span></span>
<span><span class="co">#&gt; [1] "mixed"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $emission_factors_used$plastic$unit</span></span>
<span><span class="co">#&gt; [1] "kg CO2e/kg"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $emission_factors_used$feeds</span></span>
<span><span class="co">#&gt; $emission_factors_used$feeds$grain_dry</span></span>
<span><span class="co">#&gt; $emission_factors_used$feeds$grain_dry$value</span></span>
<span><span class="co">#&gt; [1] 0.4</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $emission_factors_used$feeds$grain_dry$unit</span></span>
<span><span class="co">#&gt; [1] "kg CO2e/kg"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $emission_factors_used$feeds$grain_wet</span></span>
<span><span class="co">#&gt; $emission_factors_used$feeds$grain_wet$value</span></span>
<span><span class="co">#&gt; [1] 0.3</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $emission_factors_used$feeds$grain_wet$unit</span></span>
<span><span class="co">#&gt; [1] "kg CO2e/kg"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $emission_factors_used$feeds$ration</span></span>
<span><span class="co">#&gt; $emission_factors_used$feeds$ration$value</span></span>
<span><span class="co">#&gt; [1] 0.6</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $emission_factors_used$feeds$ration$unit</span></span>
<span><span class="co">#&gt; [1] "kg CO2e/kg"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $emission_factors_used$feeds$byproducts</span></span>
<span><span class="co">#&gt; $emission_factors_used$feeds$byproducts$value</span></span>
<span><span class="co">#&gt; [1] 0.15</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $emission_factors_used$feeds$byproducts$unit</span></span>
<span><span class="co">#&gt; [1] "kg CO2e/kg"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $emission_factors_used$feeds$proteins</span></span>
<span><span class="co">#&gt; $emission_factors_used$feeds$proteins$value</span></span>
<span><span class="co">#&gt; [1] 1.8</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $emission_factors_used$feeds$proteins$unit</span></span>
<span><span class="co">#&gt; [1] "kg CO2e/kg"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $emission_factors_used$feeds$corn</span></span>
<span><span class="co">#&gt; $emission_factors_used$feeds$corn$value</span></span>
<span><span class="co">#&gt; [1] 0.45</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $emission_factors_used$feeds$corn$unit</span></span>
<span><span class="co">#&gt; [1] "kg CO2e/kg"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $emission_factors_used$feeds$soy</span></span>
<span><span class="co">#&gt; $emission_factors_used$feeds$soy$value</span></span>
<span><span class="co">#&gt; [1] 2.1</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $emission_factors_used$feeds$soy$unit</span></span>
<span><span class="co">#&gt; [1] "kg CO2e/kg"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $emission_factors_used$feeds$wheat</span></span>
<span><span class="co">#&gt; $emission_factors_used$feeds$wheat$value</span></span>
<span><span class="co">#&gt; [1] 0.52</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $emission_factors_used$feeds$wheat$unit</span></span>
<span><span class="co">#&gt; [1] "kg CO2e/kg"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $emission_factors_used$region_source</span></span>
<span><span class="co">#&gt; [1] "global"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $emission_factors_used$transport_km</span></span>
<span><span class="co">#&gt; [1] 120</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $inputs_summary</span></span>
<span><span class="co">#&gt; $inputs_summary$concentrate_kg</span></span>
<span><span class="co">#&gt; [1] 220000</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $inputs_summary$fertilizer_n_kg</span></span>
<span><span class="co">#&gt; [1] 2400</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $inputs_summary$plastic_kg</span></span>
<span><span class="co">#&gt; [1] 450</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $inputs_summary$total_feeds_kg</span></span>
<span><span class="co">#&gt; [1] 245000</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $inputs_summary$feed_breakdown_kg</span></span>
<span><span class="co">#&gt; $inputs_summary$feed_breakdown_kg$grain_dry</span></span>
<span><span class="co">#&gt; [1] 80000</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $inputs_summary$feed_breakdown_kg$grain_wet</span></span>
<span><span class="co">#&gt; [1] 45000</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $inputs_summary$feed_breakdown_kg$ration</span></span>
<span><span class="co">#&gt; [1] 60000</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $inputs_summary$feed_breakdown_kg$byproducts</span></span>
<span><span class="co">#&gt; [1] 25000</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $inputs_summary$feed_breakdown_kg$proteins</span></span>
<span><span class="co">#&gt; [1] 35000</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $inputs_summary$feed_breakdown_kg$corn</span></span>
<span><span class="co">#&gt; [1] 0</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $inputs_summary$feed_breakdown_kg$soy</span></span>
<span><span class="co">#&gt; [1] 0</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $inputs_summary$feed_breakdown_kg$wheat</span></span>
<span><span class="co">#&gt; [1] 0</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $contribution_analysis</span></span>
<span><span class="co">#&gt; $contribution_analysis$concentrate_pct</span></span>
<span><span class="co">#&gt; [1] 47.4</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $contribution_analysis$fertilizer_pct</span></span>
<span><span class="co">#&gt; [1] 4.9</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $contribution_analysis$plastic_pct</span></span>
<span><span class="co">#&gt; [1] 0.3</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $contribution_analysis$feeds_pct</span></span>
<span><span class="co">#&gt; [1] 45.6</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $contribution_analysis$transport_pct</span></span>
<span><span class="co">#&gt; [1] 1.7</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $uncertainty</span></span>
<span><span class="co">#&gt; NULL</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $methodology</span></span>
<span><span class="co">#&gt; [1] "Regional emission factors with optional uncertainty analysis"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $standards</span></span>
<span><span class="co">#&gt; [1] "IDF 2022; generic LCI sources"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $date</span></span>
<span><span class="co">#&gt; [1] "2026-01-06"</span></span></code></pre></div>
</div>
</div>
<div class="section level3">
<h3 id="step-4-total-emissions-and-hotspot-analysis">Step 4: Total emissions and hotspot analysis<a class="anchor" aria-label="anchor" href="#step-4-total-emissions-and-hotspot-analysis"></a>
</h3>
<p><strong>Purpose</strong>. calc_total_emissions() aggregates multiple
sources into a single result and provides a breakdown that is convenient
for reporting and visualization.</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">enteric_combined</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>source <span class="op">=</span> <span class="st">"enteric"</span>, co2eq_kg <span class="op">=</span> <span class="va">total_enteric</span><span class="op">)</span></span>
<span></span>
<span><span class="va">total_emissions</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/calc_total_emissions.html">calc_total_emissions</a></span><span class="op">(</span></span>
<span>  <span class="va">enteric_combined</span>,</span>
<span>  <span class="va">manure_emissions</span>,</span>
<span>  <span class="va">soil_emissions</span>,</span>
<span>  <span class="va">energy_emissions</span>,</span>
<span>  <span class="va">input_emissions</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">total_emissions</span></span>
<span><span class="co">#&gt; Carbon Footprint - Total Emissions</span></span>
<span><span class="co">#&gt; ==================================</span></span>
<span><span class="co">#&gt; Total CO2eq: 1590294 kg</span></span>
<span><span class="co">#&gt; Number of sources: 5 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Breakdown by source:</span></span>
<span><span class="co">#&gt;   energy : 41838 kg CO2eq</span></span>
<span><span class="co">#&gt;   enteric : 763099.8 kg CO2eq</span></span>
<span><span class="co">#&gt;   inputs : 324795 kg CO2eq</span></span>
<span><span class="co">#&gt;   manure : 347959.2 kg CO2eq</span></span>
<span><span class="co">#&gt;   soil : 112601.8 kg CO2eq</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Calculated on: 2026-01-06</span></span></code></pre></div>
<div class="section level4">
<h4 id="visualize-emission-sources-bar-chart">Visualize emission sources (bar chart)<a class="anchor" aria-label="anchor" href="#visualize-emission-sources-bar-chart"></a>
</h4>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">emission_breakdown</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  Source <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">total_emissions</span><span class="op">$</span><span class="va">breakdown</span><span class="op">)</span>,</span>
<span>  Emissions <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">as.numeric</a></span><span class="op">(</span><span class="va">total_emissions</span><span class="op">$</span><span class="va">breakdown</span><span class="op">)</span>,</span>
<span>  Percentage <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">as.numeric</a></span><span class="op">(</span><span class="va">total_emissions</span><span class="op">$</span><span class="va">breakdown</span><span class="op">)</span> <span class="op">/</span> <span class="va">total_emissions</span><span class="op">$</span><span class="va">total_co2eq</span> <span class="op">*</span> <span class="fl">100</span>, <span class="fl">1</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">ggplot</span><span class="op">(</span><span class="va">emission_breakdown</span>, <span class="fu">aes</span><span class="op">(</span>x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/reorder.factor.html" class="external-link">reorder</a></span><span class="op">(</span><span class="va">Source</span>, <span class="va">Emissions</span><span class="op">)</span>, y <span class="op">=</span> <span class="va">Emissions</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">geom_col</span><span class="op">(</span>alpha <span class="op">=</span> <span class="fl">0.8</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">geom_text</span><span class="op">(</span><span class="fu">aes</span><span class="op">(</span>label <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="va">Percentage</span>, <span class="st">"%"</span><span class="op">)</span><span class="op">)</span>, hjust <span class="op">=</span> <span class="op">-</span><span class="fl">0.1</span>, size <span class="op">=</span> <span class="fl">3</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">coord_flip</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">labs</span><span class="op">(</span></span>
<span>    title <span class="op">=</span> <span class="st">"Farm emissions by source"</span>,</span>
<span>    subtitle <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="st">"Total:"</span>, <span class="fu"><a href="https://rdrr.io/r/base/format.html" class="external-link">format</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="va">total_emissions</span><span class="op">$</span><span class="va">total_co2eq</span><span class="op">)</span>, big.mark <span class="op">=</span> <span class="st">","</span><span class="op">)</span>, <span class="st">"kg CO₂eq/year"</span><span class="op">)</span>,</span>
<span>    x <span class="op">=</span> <span class="st">"Emission source"</span>,</span>
<span>    y <span class="op">=</span> <span class="st">"Emissions (kg CO₂eq/year)"</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">theme_minimal</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">theme</span><span class="op">(</span></span>
<span>    plot.title <span class="op">=</span> <span class="fu">element_text</span><span class="op">(</span>size <span class="op">=</span> <span class="fl">14</span>, hjust <span class="op">=</span> <span class="fl">0.5</span><span class="op">)</span>,</span>
<span>    plot.subtitle <span class="op">=</span> <span class="fu">element_text</span><span class="op">(</span>hjust <span class="op">=</span> <span class="fl">0.5</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<p><img src="02%20-%20Single%20Farm%20Analysis%20(cowfootR)_files/figure-html/unnamed-chunk-14-1.png" alt="Horizontal bar chart showing total farm emissions by source (enteric, manure, soil, energy, inputs) and each source's percentage of total CO2eq." width="768"></p>
</div>
</div>
<div class="section level3">
<h3 id="step-5-intensity-calculations">Step 5: Intensity calculations<a class="anchor" aria-label="anchor" href="#step-5-intensity-calculations"></a>
</h3>
<p><strong>Purpose</strong>. Intensity metrics normalize total emissions
by production (milk) and land use (area). These are useful for
comparison across farms and across scenarios, but should always be
interpreted in context.</p>
<div class="section level4">
<h4 id="milk-intensity-kg-co₂eq-per-kg-fpcm">Milk Intensity (kg CO₂eq per kg FPCM)<a class="anchor" aria-label="anchor" href="#milk-intensity-kg-co%E2%82%82eq-per-kg-fpcm"></a>
</h4>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">milk_intensity</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/calc_intensity_litre.html">calc_intensity_litre</a></span><span class="op">(</span></span>
<span>  total_emissions <span class="op">=</span> <span class="va">total_emissions</span>,</span>
<span>  milk_litres <span class="op">=</span> <span class="va">herd_data</span><span class="op">$</span><span class="va">annual_milk_litres</span>,</span>
<span>  fat <span class="op">=</span> <span class="va">herd_data</span><span class="op">$</span><span class="va">fat_percent</span>,</span>
<span>  protein <span class="op">=</span> <span class="va">herd_data</span><span class="op">$</span><span class="va">protein_percent</span>,</span>
<span>  milk_density <span class="op">=</span> <span class="va">herd_data</span><span class="op">$</span><span class="va">milk_density</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">milk_intensity</span></span>
<span><span class="co">#&gt; Carbon Footprint Intensity</span></span>
<span><span class="co">#&gt; ==========================</span></span>
<span><span class="co">#&gt; Intensity: 1.684 kg CO2eq/kg FPCM</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Production data:</span></span>
<span><span class="co">#&gt;  Raw milk (L): 950,000 L</span></span>
<span><span class="co">#&gt;  Raw milk (kg): 980,400 kg</span></span>
<span><span class="co">#&gt;  FPCM (kg): 944,223 kg</span></span>
<span><span class="co">#&gt;  Fat content: 3.7 %</span></span>
<span><span class="co">#&gt;  Protein content: 3.3 %</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Total emissions: 1,590,294 kg CO2eq</span></span>
<span><span class="co">#&gt; Calculated on: 2026-01-06</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="area-intensity-kg-co₂eq-per-ha">Area Intensity (kg CO₂eq per ha)<a class="anchor" aria-label="anchor" href="#area-intensity-kg-co%E2%82%82eq-per-ha"></a>
</h4>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">area_breakdown</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>  pasture_permanent <span class="op">=</span> <span class="va">land_data</span><span class="op">$</span><span class="va">pasture_permanent</span>,</span>
<span>  pasture_temporary <span class="op">=</span> <span class="va">land_data</span><span class="op">$</span><span class="va">pasture_temporary</span>,</span>
<span>  crops_feed <span class="op">=</span> <span class="va">land_data</span><span class="op">$</span><span class="va">crops_feed</span>,</span>
<span>  crops_cash <span class="op">=</span> <span class="va">land_data</span><span class="op">$</span><span class="va">crops_cash</span>,</span>
<span>  infrastructure <span class="op">=</span> <span class="va">land_data</span><span class="op">$</span><span class="va">infrastructure</span>,</span>
<span>  woodland <span class="op">=</span> <span class="va">land_data</span><span class="op">$</span><span class="va">woodland</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">area_intensity</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/calc_intensity_area.html">calc_intensity_area</a></span><span class="op">(</span></span>
<span>  total_emissions <span class="op">=</span> <span class="va">total_emissions</span>,</span>
<span>  area_total_ha <span class="op">=</span> <span class="va">land_data</span><span class="op">$</span><span class="va">area_total</span>,</span>
<span>  area_productive_ha <span class="op">=</span> <span class="va">land_data</span><span class="op">$</span><span class="va">area_productive</span>,</span>
<span>  area_breakdown <span class="op">=</span> <span class="va">area_breakdown</span>,</span>
<span>  validate_area_sum <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">area_intensity</span></span>
<span><span class="co">#&gt; Carbon Footprint Area Intensity</span></span>
<span><span class="co">#&gt; ===============================</span></span>
<span><span class="co">#&gt; Intensity (total area): 7951.47 kg CO2eq/ha</span></span>
<span><span class="co">#&gt; Intensity (productive area): 8596.18 kg CO2eq/ha</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Area summary:</span></span>
<span><span class="co">#&gt;  Total area: 200 ha</span></span>
<span><span class="co">#&gt;  Productive area: 185 ha</span></span>
<span><span class="co">#&gt;  Land use efficiency: 92.5%</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Land use breakdown:</span></span>
<span><span class="co">#&gt;  pasture permanent: 140.0 ha (70.0%) -&gt; 1113206 kg CO2eq</span></span>
<span><span class="co">#&gt;  pasture temporary: 30.0 ha (15.0%) -&gt; 238544 kg CO2eq</span></span>
<span><span class="co">#&gt;  crops feed: 12.0 ha (6.0%) -&gt; 95418 kg CO2eq</span></span>
<span><span class="co">#&gt;  crops cash: 3.0 ha (1.5%) -&gt; 23854 kg CO2eq</span></span>
<span><span class="co">#&gt;  infrastructure: 8.0 ha (4.0%) -&gt; 63612 kg CO2eq</span></span>
<span><span class="co">#&gt;  woodland: 7.0 ha (3.5%) -&gt; 55660 kg CO2eq</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Total emissions: 1,590,294 kg CO2eq</span></span>
<span><span class="co">#&gt; Calculated on: 2026-01-06</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="benchmarking-interpretation-note">Benchmarking (interpretation note)<a class="anchor" aria-label="anchor" href="#benchmarking-interpretation-note"></a>
</h4>
<p>Benchmark values should be treated as indicative guidance and may
vary by production system, region, and data quality.</p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">area_benchmark</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/benchmark_area_intensity.html">benchmark_area_intensity</a></span><span class="op">(</span></span>
<span>  cf_area_intensity <span class="op">=</span> <span class="va">area_intensity</span>,</span>
<span>  region <span class="op">=</span> <span class="st">"uruguay"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">area_benchmark</span><span class="op">$</span><span class="va">benchmarking</span></span>
<span><span class="co">#&gt; $region</span></span>
<span><span class="co">#&gt; [1] "uruguay"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $benchmark_mean</span></span>
<span><span class="co">#&gt; [1] 6000</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $benchmark_range</span></span>
<span><span class="co">#&gt; [1] 5000 7000</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $benchmark_source</span></span>
<span><span class="co">#&gt; [1] "Placeholder"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $vs_mean_percent</span></span>
<span><span class="co">#&gt; [1] 43.3</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $performance_category</span></span>
<span><span class="co">#&gt; [1] "Above average (above typical range)"</span></span></code></pre></div>
</div>
</div>
<div class="section level3">
<h3 id="step-6-scenario-analysis-example">Step 6: Scenario analysis (example)<a class="anchor" aria-label="anchor" href="#step-6-scenario-analysis-example"></a>
</h3>
<p><strong>Purpose</strong>. Scenario comparisons help explore
mitigation options by changing one driver at a time while keeping the
rest constant.</p>
<p><strong>Scenario 1: Improved feed efficiency (10% reduction in
concentrate)</strong></p>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">improved_inputs</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/calc_emissions_inputs.html">calc_emissions_inputs</a></span><span class="op">(</span></span>
<span>  conc_kg <span class="op">=</span> <span class="va">feed_data</span><span class="op">$</span><span class="va">concentrate_kg</span> <span class="op">*</span> <span class="fl">0.9</span>,</span>
<span>  fert_n_kg <span class="op">=</span> <span class="va">land_data</span><span class="op">$</span><span class="va">n_fertilizer_synthetic</span>,</span>
<span>  plastic_kg <span class="op">=</span> <span class="va">other_inputs</span><span class="op">$</span><span class="va">plastic_kg</span>,</span>
<span>  feed_grain_dry_kg <span class="op">=</span> <span class="va">feed_data</span><span class="op">$</span><span class="va">grain_dry_kg</span>,</span>
<span>  feed_grain_wet_kg <span class="op">=</span> <span class="va">feed_data</span><span class="op">$</span><span class="va">grain_wet_kg</span>,</span>
<span>  feed_ration_kg <span class="op">=</span> <span class="va">feed_data</span><span class="op">$</span><span class="va">ration_kg</span>,</span>
<span>  feed_byproducts_kg <span class="op">=</span> <span class="va">feed_data</span><span class="op">$</span><span class="va">byproducts_kg</span>,</span>
<span>  feed_proteins_kg <span class="op">=</span> <span class="va">feed_data</span><span class="op">$</span><span class="va">proteins_kg</span>,</span>
<span>  region <span class="op">=</span> <span class="va">other_inputs</span><span class="op">$</span><span class="va">region</span>,</span>
<span>  fert_type <span class="op">=</span> <span class="va">other_inputs</span><span class="op">$</span><span class="va">fert_type</span>,</span>
<span>  plastic_type <span class="op">=</span> <span class="va">other_inputs</span><span class="op">$</span><span class="va">plastic_type</span>,</span>
<span>  transport_km <span class="op">=</span> <span class="va">other_inputs</span><span class="op">$</span><span class="va">transport_km</span>,</span>
<span>  boundaries <span class="op">=</span> <span class="va">boundaries</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">total_improved</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/calc_total_emissions.html">calc_total_emissions</a></span><span class="op">(</span></span>
<span>  <span class="va">enteric_combined</span>,</span>
<span>  <span class="va">manure_emissions</span>,</span>
<span>  <span class="va">soil_emissions</span>,</span>
<span>  <span class="va">energy_emissions</span>,</span>
<span>  <span class="va">improved_inputs</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">scenario_comparison</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  Scenario <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Baseline"</span>, <span class="st">"Improved Feed Efficiency"</span><span class="op">)</span>,</span>
<span>  Total_Emissions <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">total_emissions</span><span class="op">$</span><span class="va">total_co2eq</span>, <span class="va">total_improved</span><span class="op">$</span><span class="va">total_co2eq</span><span class="op">)</span>,</span>
<span>  Reduction_kg <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="va">total_emissions</span><span class="op">$</span><span class="va">total_co2eq</span> <span class="op">-</span> <span class="va">total_improved</span><span class="op">$</span><span class="va">total_co2eq</span><span class="op">)</span>,</span>
<span>  Reduction_percent <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>    <span class="fl">0</span>,</span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="op">(</span><span class="va">total_emissions</span><span class="op">$</span><span class="va">total_co2eq</span> <span class="op">-</span> <span class="va">total_improved</span><span class="op">$</span><span class="va">total_co2eq</span><span class="op">)</span> <span class="op">/</span> <span class="va">total_emissions</span><span class="op">$</span><span class="va">total_co2eq</span> <span class="op">*</span> <span class="fl">100</span>, <span class="fl">1</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">kable</span><span class="op">(</span><span class="va">scenario_comparison</span>, caption <span class="op">=</span> <span class="st">"Mitigation scenario analysis (illustrative)"</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<caption>Mitigation scenario analysis (illustrative)</caption>
<colgroup>
<col width="34%">
<col width="22%">
<col width="18%">
<col width="25%">
</colgroup>
<thead><tr class="header">
<th align="left">Scenario</th>
<th align="right">Total_Emissions</th>
<th align="right">Reduction_kg</th>
<th align="right">Reduction_percent</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Baseline</td>
<td align="right">1590294</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">Improved Feed Efficiency</td>
<td align="right">1574630</td>
<td align="right">15664</td>
<td align="right">1</td>
</tr>
</tbody>
</table>
<div class="section level4">
<h4 id="scenario-2-enhanced-manure-management">Scenario 2: Enhanced Manure Management<a class="anchor" aria-label="anchor" href="#scenario-2-enhanced-manure-management"></a>
</h4>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Scenario: Switch from pasture to anaerobic digester</span></span>
<span><span class="va">improved_manure</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/calc_emissions_manure.html">calc_emissions_manure</a></span><span class="op">(</span></span>
<span>  n_cows <span class="op">=</span> <span class="va">total_animals</span>,</span>
<span>  manure_system <span class="op">=</span> <span class="st">"anaerobic_digester"</span>,</span>
<span>  tier <span class="op">=</span> <span class="fl">2</span>,</span>
<span>  avg_body_weight <span class="op">=</span> <span class="fl">500</span>,</span>
<span>  diet_digestibility <span class="op">=</span> <span class="fl">0.67</span>,</span>
<span>  climate <span class="op">=</span> <span class="st">"temperate"</span>,</span>
<span>  retention_days <span class="op">=</span> <span class="fl">45</span>,</span>
<span>  system_temperature <span class="op">=</span> <span class="fl">35</span>,</span>
<span>  include_indirect <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  boundaries <span class="op">=</span> <span class="va">boundaries</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Calculate total with improved manure management</span></span>
<span><span class="va">total_improved_manure</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/calc_total_emissions.html">calc_total_emissions</a></span><span class="op">(</span></span>
<span>  <span class="va">enteric_combined</span>,</span>
<span>  <span class="va">improved_manure</span>,</span>
<span>  <span class="va">soil_emissions</span>,</span>
<span>  <span class="va">energy_emissions</span>,</span>
<span>  <span class="va">input_emissions</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">manure_comparison</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  System <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Pasture"</span>, <span class="st">"Anaerobic Digester"</span><span class="op">)</span>,</span>
<span>  CH4_kg <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">manure_emissions</span><span class="op">$</span><span class="va">ch4_kg</span>, <span class="va">improved_manure</span><span class="op">$</span><span class="va">ch4_kg</span><span class="op">)</span>,</span>
<span>  N2O_kg <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">manure_emissions</span><span class="op">$</span><span class="va">n2o_total_kg</span>, <span class="va">improved_manure</span><span class="op">$</span><span class="va">n2o_total_kg</span><span class="op">)</span>,</span>
<span>  Total_CO2eq <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">manure_emissions</span><span class="op">$</span><span class="va">co2eq_kg</span>, <span class="va">improved_manure</span><span class="op">$</span><span class="va">co2eq_kg</span><span class="op">)</span>,</span>
<span>  Reduction_kg <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="va">manure_emissions</span><span class="op">$</span><span class="va">co2eq_kg</span> <span class="op">-</span> <span class="va">improved_manure</span><span class="op">$</span><span class="va">co2eq_kg</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">kable</span><span class="op">(</span><span class="va">manure_comparison</span>, caption <span class="op">=</span> <span class="st">"Manure Management Comparison"</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<caption>Manure Management Comparison</caption>
<thead><tr class="header">
<th align="left">System</th>
<th align="right">CH4_kg</th>
<th align="right">N2O_kg</th>
<th align="right">Total_CO2eq</th>
<th align="right">Reduction_kg</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Pasture</td>
<td align="right">4092.31</td>
<td align="right">866.84</td>
<td align="right">347959.2</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">Anaerobic Digester</td>
<td align="right">245538.86</td>
<td align="right">866.84</td>
<td align="right">6915305.2</td>
<td align="right">-6567346</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section level3">
<h3 id="step-7-two-complementary-visual-summaries">Step 7: Two complementary visual summaries<a class="anchor" aria-label="anchor" href="#step-7-two-complementary-visual-summaries"></a>
</h3>
<p>This vignette includes two visual summaries on purpose:</p>
<ol style="list-style-type: decimal">
<li>
<strong>Farm emissions by source (bar chart)</strong> uses
<code>total_emissions$breakdown</code>, i.e., the aggregation returned
by <code><a href="../reference/calc_total_emissions.html">calc_total_emissions()</a></code>.</li>
<li>
<strong>Multi-source breakdown (stacked bar)</strong> is a more
detailed view that splits enteric emissions into cows vs. young stock
and keeps other sources as separate blocks.</li>
</ol>
<p>These charts answer different questions: the first highlights the
hotspot categories in the official aggregation; the second gives a more
granular interpretation for communication.</p>
<p><strong>Multi-source emissions chart (stacked bar)</strong></p>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">detailed_emissions</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  Source <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>    <span class="st">"Enteric - Cows"</span>, <span class="st">"Enteric - Young Stock"</span>, <span class="st">"Manure Management"</span>,</span>
<span>    <span class="st">"Soil N2O"</span>, <span class="st">"Energy Use"</span>, <span class="st">"Purchased Inputs"</span></span>
<span>  <span class="op">)</span>,</span>
<span>  Emissions <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>    <span class="va">enteric_cows</span><span class="op">$</span><span class="va">co2eq_kg</span>,</span>
<span>    <span class="va">enteric_heifers</span><span class="op">$</span><span class="va">co2eq_kg</span> <span class="op">+</span> <span class="va">enteric_calves</span><span class="op">$</span><span class="va">co2eq_kg</span> <span class="op">+</span> <span class="va">enteric_bulls</span><span class="op">$</span><span class="va">co2eq_kg</span>,</span>
<span>    <span class="va">manure_emissions</span><span class="op">$</span><span class="va">co2eq_kg</span>,</span>
<span>    <span class="va">soil_emissions</span><span class="op">$</span><span class="va">co2eq_kg</span>,</span>
<span>    <span class="va">energy_emissions</span><span class="op">$</span><span class="va">co2eq_kg</span>,</span>
<span>    <span class="va">input_emissions</span><span class="op">$</span><span class="va">total_co2eq_kg</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">ggplot</span><span class="op">(</span><span class="va">detailed_emissions</span>, <span class="fu">aes</span><span class="op">(</span>x <span class="op">=</span> <span class="st">"Farm emissions"</span>, y <span class="op">=</span> <span class="va">Emissions</span>, fill <span class="op">=</span> <span class="va">Source</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">geom_col</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">labs</span><span class="op">(</span></span>
<span>    title <span class="op">=</span> <span class="st">"Single farm carbon footprint breakdown (detailed view)"</span>,</span>
<span>    subtitle <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="st">"Total:"</span>, <span class="fu"><a href="https://rdrr.io/r/base/format.html" class="external-link">format</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="va">total_emissions</span><span class="op">$</span><span class="va">total_co2eq</span><span class="op">)</span>, big.mark <span class="op">=</span> <span class="st">","</span><span class="op">)</span>, <span class="st">"kg CO₂eq/year"</span><span class="op">)</span>,</span>
<span>    x <span class="op">=</span> <span class="st">""</span>,</span>
<span>    y <span class="op">=</span> <span class="st">"Emissions (kg CO₂eq/year)"</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">theme_minimal</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">theme</span><span class="op">(</span></span>
<span>    plot.title <span class="op">=</span> <span class="fu">element_text</span><span class="op">(</span>size <span class="op">=</span> <span class="fl">14</span>, hjust <span class="op">=</span> <span class="fl">0.5</span><span class="op">)</span>,</span>
<span>    plot.subtitle <span class="op">=</span> <span class="fu">element_text</span><span class="op">(</span>hjust <span class="op">=</span> <span class="fl">0.5</span><span class="op">)</span>,</span>
<span>    axis.text.x <span class="op">=</span> <span class="fu">element_blank</span><span class="op">(</span><span class="op">)</span>,</span>
<span>    legend.position <span class="op">=</span> <span class="st">"right"</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<p><img src="02%20-%20Single%20Farm%20Analysis%20(cowfootR)_files/figure-html/unnamed-chunk-20-1.png" alt="Stacked bar chart with a detailed breakdown of farm emissions, splitting enteric emissions into cows vs young stock, plus manure, soil, energy, and purchased inputs." width="960"></p>
</div>
<div class="section level3">
<h3 id="step-8-summary-table-kpi-style">Step 8: Summary table (KPI-style)<a class="anchor" aria-label="anchor" href="#step-8-summary-table-kpi-style"></a>
</h3>
<p><strong>Purpose</strong>. This table provides a compact summary of
key metrics for reporting. At the moment, we build it explicitly as a
data.frame to keep the workflow transparent; a dedicated helper function
could be added in future versions if needed.</p>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">kpi_summary</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  Metric <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>    <span class="st">"Milk intensity (kg CO₂eq/kg FPCM)"</span>,</span>
<span>    <span class="st">"Area intensity - total (kg CO₂eq/ha)"</span>,</span>
<span>    <span class="st">"Area intensity - productive (kg CO₂eq/ha)"</span>,</span>
<span>    <span class="st">"Land use efficiency (%)"</span>,</span>
<span>    <span class="st">"Milk yield (L/cow/year)"</span>,</span>
<span>    <span class="st">"Stocking rate (cows/ha)"</span></span>
<span>  <span class="op">)</span>,</span>
<span>  Value <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="va">milk_intensity</span><span class="op">$</span><span class="va">intensity_co2eq_per_kg_fpcm</span>, <span class="fl">3</span><span class="op">)</span>,</span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="va">area_intensity</span><span class="op">$</span><span class="va">intensity_per_total_ha</span>, <span class="fl">0</span><span class="op">)</span>,</span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="va">area_intensity</span><span class="op">$</span><span class="va">intensity_per_productive_ha</span>, <span class="fl">0</span><span class="op">)</span>,</span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="va">area_intensity</span><span class="op">$</span><span class="va">land_use_efficiency</span> <span class="op">*</span> <span class="fl">100</span>, <span class="fl">1</span><span class="op">)</span>,</span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="va">herd_data</span><span class="op">$</span><span class="va">annual_milk_litres</span> <span class="op">/</span> <span class="fl">150</span>, <span class="fl">0</span><span class="op">)</span>,</span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="fl">150</span> <span class="op">/</span> <span class="va">land_data</span><span class="op">$</span><span class="va">area_total</span>, <span class="fl">2</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">kable</span><span class="op">(</span><span class="va">kpi_summary</span>, caption <span class="op">=</span> <span class="st">"Key performance indicators (illustrative)"</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<caption>Key performance indicators (illustrative)</caption>
<thead><tr class="header">
<th align="left">Metric</th>
<th align="right">Value</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Milk intensity (kg CO₂eq/kg FPCM)</td>
<td align="right">1.684</td>
</tr>
<tr class="even">
<td align="left">Area intensity - total (kg CO₂eq/ha)</td>
<td align="right">7951.000</td>
</tr>
<tr class="odd">
<td align="left">Area intensity - productive (kg CO₂eq/ha)</td>
<td align="right">8596.000</td>
</tr>
<tr class="even">
<td align="left">Land use efficiency (%)</td>
<td align="right">92.500</td>
</tr>
<tr class="odd">
<td align="left">Milk yield (L/cow/year)</td>
<td align="right">6333.000</td>
</tr>
<tr class="even">
<td align="left">Stocking rate (cows/ha)</td>
<td align="right">0.750</td>
</tr>
</tbody>
</table>
</div>
<div class="section level3">
<h3 id="conclusion">Conclusion<a class="anchor" aria-label="anchor" href="#conclusion"></a>
</h3>
<p>This vignette demonstrated a complete single-farm workflow:</p>
<ul>
<li>define boundaries</li>
<li>provide farm inputs</li>
<li>compute emissions by source</li>
<li>aggregate totals and identify hotspots</li>
<li>calculate intensity metrics</li>
<li>explore simple mitigation scenarios</li>
<li>summarize results with figures and a KPI table</li>
</ul>
</div>
<div class="section level3">
<h3 id="for-multi-farm-processing-see-the-batch-farm-assessment-vignette-">For multi-farm processing, see the Batch Farm Assessment
vignette.<a class="anchor" aria-label="anchor" href="#for-multi-farm-processing-see-the-batch-farm-assessment-vignette-"></a>
</h3>
<p><em>This analysis used cowfootR version 0.1.2 following IDF 2022 and
IPCC 2019 standards.</em></p>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Juan Moreno.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
